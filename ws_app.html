<!DOCTYPE html><meta charset="utf-8"><title>web socket</title>
<style>
	*{margin:0;padding:0;font-family:inherit;font-size:inherit;line-height:1.2em}
	html{white-space:pre;font-family:courier;font-size:11px;margin:0;padding:0;margin-left:auto;margin-right:auto;padding:0 4em 0 4em;display:block;text-align:center;color:#222;border-right:0px dotted #666;border-left:0px dotted #666;box-shadow:0 0 27px rgba(0,0,0,.5);border-radius:1px}
	#txt{color:brown}
</style>
<script src=/x.js></script>


<div id="-"></div>

<style>
	#-{border:1px}
</style>
<script>
$=document.all;

function start(){
	const is_ssl=location.protocol=='https:'
	ws=new WebSocket("ws"+(is_ssl?"s":"")+"://"+location.host+"/ws_app");
	ws.onopen=function(e){
		console.log("web socket: onopen");
	}
	ws.onmessage=function(e){
		console.log("web socket: onmessage "+e+" data:"+e.data);
		eval(e.data);
	};
	ws.onerror=function(e){
		console.log("web socket: onerror "+e+" data:"+e.data);
	};
	ws.onclose=function(e){
		console.log("web socket: onclose "+e);
	};
}
function stop(){
	ws.close();
}
start();
</script>