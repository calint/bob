[ ] fix "// todo" comments
[ ]   content type for cached file from Map of suffix to content-type?
[x] cookie: same-site
[ ] fix for client that makes many threaded requests and then stalls them to starve server of threads or create too many. ddos.
[x] etag instead of last-modified
[x] review ranged requests
[x]   file
[x]   cache
[x] b.map_resource_to_path(String,String)
[ ] req state to enum
[o] dbo: better connection pool, close old connection etc
[ ]   review code, the ugliness is overwhelming 
[ ]   rework Db.initTransaction deintTransaction
[x] rework the websock
[x]   add send que
[x]   fix edge case
[ ]     full duplex with thread for send?
[x] try b with 1B input buffer
